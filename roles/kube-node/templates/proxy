###
# kubernetes proxy config

# default config should be adequate

KUBE_PROXY_ARGS="--proxy-mode={{ kube_proxy_mode }} \
{% if kube_network_dualstack_enabled | default(false) | bool %}
--cluster-cidr={{ calico_ippool_cidr }},{{ calico_ippool_cidr_ipv6 }} \
{% else %}
--cluster-cidr={{ calico_ippool_cidr }} \
{% endif %}
--v=0 --kubeconfig={{ kube_config_dir }}/kubeconfig --hostname-override={{ hostvars[inventory_hostname]['ip'] }} --metrics-bind-address={{ hostvars[inventory_hostname]['ip'] }}:{{ kube_proxy_metrics_port }}"
